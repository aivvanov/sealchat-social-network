"use strict";(self.webpackChunkreact_app_1=self.webpackChunkreact_app_1||[]).push([[46],{4046:(s,e,a)=>{a.r(e),a.d(e,{default:()=>y});var i=a(5661),t=a(3003),r=a(5043);const l="Dialogs_dialogs__oe96H",n="Dialogs_dialog_items__kMYK8",g="Dialogs_separator__hYbl9",o="Dialogs_messages__Cg2l+",d="Dialogs_message_input__MHRpL",m="Dialogs_message_field__uiXyb",_="Dialogs_button_container__Jk4t4",c="Dialog_dialog__5HDuH",u="Dialog_active_dialog__L4vim",x="Dialog_dialog_name__RuybO";var h=a(5475),j=a(579);const p=s=>{let{id:e,userName:a,userImage:i}=s;const t=`/dialogs/${e}`;return(0,j.jsx)("div",{className:c,children:(0,j.jsxs)(h.k2,{className:s=>{let{isActive:e}=s;return e?u:x},to:t,children:[(0,j.jsx)("img",{src:i,alt:"userImage"}),a]})})},v="Message_current_user_message__p8PC2",N="Message_user_message__glf+a",D="Message_message_content__VQ3rA",M=s=>{let{messageCreatedAt:e,messageUserInfo:a,messageText:i}=s;const t=new Date(e),r=isNaN(t.getTime())?"Invalid Date":t.toLocaleString();return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:a.isCurrentUser?v:N,children:[a.isCurrentUser?"":(0,j.jsx)("img",{src:a.icon,alt:"userImage"}),(0,j.jsxs)("div",{className:D,children:[(0,j.jsx)("p",{children:i}),(0,j.jsx)("span",{children:r})]}),a.isCurrentUser?(0,j.jsx)("img",{src:a.icon,alt:"userImage"}):""]})})};var b=a(5963),C=a(3842),A=a(6292),f=a(6545);const I=(0,C.A)({form:"dialogMessageForm"})((s=>{let{handleSubmit:e}=s;return(0,j.jsxs)("form",{onSubmit:e,className:m,children:[(0,j.jsx)(b.A,{component:A.TM,name:"newMessageBody",placeholder:"Text message...",className:d,validate:[f.m,(0,f.d)(50)]}),(0,j.jsx)("div",{className:_,children:(0,j.jsx)("button",{type:"submit",children:"Send"})})]})})),k=s=>{let{dialogs:e,messages:a,sendMessage:i}=s;const t=e.map((s=>(0,j.jsx)(p,{id:s.id,userName:s.name,userImage:s.icon},s.id))),r=a.map((s=>(0,j.jsx)(M,{messageText:s.text,messageCreatedAt:s.createdAt,messageUserInfo:s.user},s.id)));return(0,j.jsxs)("div",{className:l,children:[(0,j.jsx)("div",{className:n,children:t}),(0,j.jsx)("div",{className:g}),(0,j.jsx)("div",{className:o,children:r}),(0,j.jsx)(I,{onSubmit:s=>{i(s.newMessageBody)}})]})};var w=a(3216);const T=s=>({isAuth:s.auth.isAuth});const y=(0,a(3923).Zz)((0,t.Ng)((s=>({messages:s.dialogsPage.messages,dialogs:s.dialogsPage.dialogs,newMessageText:s.dialogsPage.newMessageText})),{sendMessage:i._}),(s=>{class e extends r.Component{render(){return this.props.isAuth?(0,j.jsx)(s,{...this.props}):(0,j.jsx)(w.C5,{to:"/login"})}}return(0,t.Ng)(T)(e)}))(k)}}]);
//# sourceMappingURL=46.5e7a7866.chunk.js.map